app:
  description: AIå­¦ç”Ÿæ–‡ç« åˆè¯„æµç¨‹ - æµ‹è¯•ç‰ˆï¼ˆç§»é™¤HTTPè¯·æ±‚ï¼Œä½¿ç”¨ç›´æŽ¥è¾“å…¥ï¼‰
  icon: ðŸŽ“
  icon_background: '#E3F2FD'
  mode: workflow
  name: TEST_AIå­¦ç”Ÿåˆè¯„æµç¨‹
  use_icon_as_answer_icon: false

kind: app
version: 0.5.0

workflow:
  conversation_variables: []
  environment_variables: []

  features:
    file_upload:
      enabled: false
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    text_to_speech:
      enabled: false

  graph:
    edges:
    # å¼€å§‹ â†’ LLMåˆè¯„
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: start-to-llm
      source: start-node
      sourceHandle: source
      target: llm-filter
      targetHandle: target
      type: custom

    # LLMåˆè¯„ â†’ æ¡ä»¶åˆ¤æ–­
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: llm-to-if
      source: llm-filter
      sourceHandle: source
      target: if-condition
      targetHandle: target
      type: custom

    # æ¡ä»¶åˆ¤æ–­(é€šè¿‡) â†’ ç»“æŸ(é€šè¿‡)
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: end
      id: if-true-to-end
      source: if-condition
      sourceHandle: 'true'
      target: end-pass
      targetHandle: target
      type: custom

    # æ¡ä»¶åˆ¤æ–­(ä¸é€šè¿‡) â†’ ç»“æŸ(æ‹’ç»)
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: end
      id: if-false-to-end
      source: if-condition
      sourceHandle: 'false'
      target: end-reject
      targetHandle: target
      type: custom

    nodes:
    # ========== å¼€å§‹èŠ‚ç‚¹ ==========
    - data:
        desc: è¾“å…¥æ–‡ç« ä¿¡æ¯è¿›è¡Œåˆè¯„
        title: å¼€å§‹
        type: start
        variables:
        - label: æ–‡ç« æ ‡é¢˜
          max_length: 500
          required: true
          type: text-input
          variable: article_title
        - label: æ–‡ç« å†…å®¹
          max_length: 50000
          required: true
          type: paragraph
          variable: article_content
        - label: æ¥æºåç§°
          max_length: 100
          required: false
          type: text-input
          variable: source_name
        - label: å­—æ•°
          max_length: 10
          required: false
          type: number
          variable: word_count
      id: start-node
      position:
        x: 50
        y: 300
      positionAbsolute:
        x: 50
        y: 300
      type: start

    # ========== LLM åˆè¯„èŠ‚ç‚¹ ==========
    - data:
        context:
          enabled: false
        desc: ä½¿ç”¨å¤§æ¨¡åž‹è¿›è¡Œåˆæ­¥è¯„ä¼°
        model:
          completion_params:
            temperature: 0.3
            top_p: 0.9
          mode: chat
          name: gemini-2.0-flash-exp
          provider: google
        prompt_template:
        - id: system
          role: system
          text: |
            ä½ æ˜¯ä¸€ä¸ªä¸“ä¸ºAI/MLå­¦ç”Ÿè®¾è®¡çš„å†…å®¹è¿‡æ»¤å™¨ã€‚

            ä½ çš„ä»»åŠ¡ï¼šå¿«é€Ÿåˆ¤æ–­è¿™ç¯‡æ–‡ç« æ˜¯å¦å€¼å¾—æ·±å…¥åˆ†æžã€‚

            ## è¯„ä¼°ç»´åº¦ï¼ˆæ€»åˆ†100ï¼‰

            ### 1. å­¦æœ¯ä»·å€¼ï¼ˆ40åˆ†ï¼‰
            - æ˜¯å¦æœ‰åŠ©äºŽå­¦ç”Ÿç†è§£æœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ æ¦‚å¿µï¼Ÿ
            - æ˜¯å¦åŒ…å«ç®—æ³•åŽŸç†ã€æ•°å­¦æŽ¨å¯¼æˆ–ç†è®ºåˆ†æžï¼Ÿ
            - æ˜¯å¦å¼•ç”¨å­¦æœ¯è®ºæ–‡æˆ–å‰æ²¿ç ”ç©¶ï¼Ÿ

            ### 2. å®žè·µä»·å€¼ï¼ˆ30åˆ†ï¼‰
            - æ˜¯å¦æä¾›ä»£ç ç¤ºä¾‹æˆ–å®žéªŒç»“æžœï¼Ÿ
            - æ˜¯å¦æœ‰å…·ä½“æ¡ˆä¾‹æˆ–é¡¹ç›®å®žæˆ˜ï¼Ÿ
            - æ˜¯å¦ä»‹ç»å®žç”¨å·¥å…·æˆ–æ¡†æž¶ï¼Ÿ

            ### 3. ç›¸å…³æ€§ï¼ˆ30åˆ†ï¼‰
            - æ˜¯å¦èšç„¦AIæ ¸å¿ƒé¢†åŸŸï¼ˆML/DL/NLP/CV/RLï¼‰ï¼Ÿ
            - æ˜¯å¦é€‚åˆå­¦ç”Ÿæ°´å¹³ï¼ˆä¸å¤ªç®€å•ï¼Œä¸å¤ªæ™¦æ¶©ï¼‰ï¼Ÿ
            - å†…å®¹æ˜¯å¦è¶³å¤Ÿæ–°é¢–æˆ–æœ‰å¯å‘æ€§ï¼Ÿ

            ## è‡ªåŠ¨æ‹’ç»ï¼ˆç›´æŽ¥æ‰“0åˆ†ï¼‰
            - å•†ä¸š/å¸‚åœºè¥é”€æ–‡ç« 
            - äº§å“è®¾è®¡/UXå†…å®¹
            - çº¯å·¥ç¨‹å®žè·µï¼ˆDevOpsã€äº‘è®¡ç®—ç­‰éžAIå†…å®¹ï¼‰
            - æ–°é—»å¿«è®¯ï¼ˆé™¤éžæ¥è‡ªOpenAIã€DeepMindç­‰é¡¶çº§å®žéªŒå®¤ï¼‰
            - æ‹›è˜/æ´»åŠ¨é€šçŸ¥

            ## è¾“å‡ºæ ¼å¼ï¼ˆJSONï¼‰
            {
              "score": 75,
              "reason": "ç®€çŸ­è¯´æ˜Žè¯„åˆ†ç†ç”±ï¼ˆ1-2å¥è¯ï¼‰",
              "pass": true,
              "category": "æ·±åº¦å­¦ä¹ "
            }

            **é€šè¿‡é˜ˆå€¼ï¼š60åˆ†**
            score >= 60 æ—¶ï¼Œpass = true
            score < 60 æ—¶ï¼Œpass = false

        - id: user
          role: user
          text: |
            è¯·è¯„ä¼°ä»¥ä¸‹æ–‡ç« ï¼š

            **æ ‡é¢˜**ï¼š{{#start-node.article_title#}}

            **æ¥æº**ï¼š{{#start-node.source_name#}}

            **å­—æ•°**ï¼š{{#start-node.word_count#}}

            **å†…å®¹é¢„è§ˆ**ï¼š
            {{#start-node.article_content#}}

        selected: false
        title: AIå­¦ç”Ÿåˆè¯„
        type: llm
        variables: []
        vision:
          enabled: false
      id: llm-filter
      position:
        x: 400
        y: 300
      positionAbsolute:
        x: 400
        y: 300
      type: llm

    # ========== æ¡ä»¶åˆ¤æ–­èŠ‚ç‚¹ ==========
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: condition-1
            value: '"pass": true'
            variable_selector:
            - llm-filter
            - text
          id: 'true'
          logical_operator: and
        desc: åˆ¤æ–­æ˜¯å¦é€šè¿‡åˆè¯„
        title: åˆ¤æ–­ç»“æžœ
        type: if-else
      id: if-condition
      position:
        x: 750
        y: 300
      positionAbsolute:
        x: 750
        y: 300
      type: if-else

    # ========== ç»“æŸèŠ‚ç‚¹ï¼ˆé€šè¿‡ï¼‰==========
    - data:
        desc: ''
        outputs:
        - value_selector:
          - llm-filter
          - text
          variable: result
        selected: false
        title: é€šè¿‡åˆè¯„
        type: end
      id: end-pass
      position:
        x: 1100
        y: 200
      positionAbsolute:
        x: 1100
        y: 200
      type: end

    # ========== ç»“æŸèŠ‚ç‚¹ï¼ˆæ‹’ç»ï¼‰==========
    - data:
        desc: ''
        outputs:
        - value_selector:
          - llm-filter
          - text
          variable: result
        selected: false
        title: æ‹’ç»æ–‡ç« 
        type: end
      id: end-reject
      position:
        x: 1100
        y: 400
      positionAbsolute:
        x: 1100
        y: 400
      type: end
