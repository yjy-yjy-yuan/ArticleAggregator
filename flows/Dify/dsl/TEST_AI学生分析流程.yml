app:
  description: AIå­¦ç”Ÿæ–‡ç« æ·±åº¦åˆ†ææµç¨‹ - æµ‹è¯•ç‰ˆï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼Œé€‚åˆå¿«é€Ÿæµ‹è¯•ï¼‰
  icon: ğŸ”¬
  icon_background: '#FFF3E0'
  mode: workflow
  name: TEST_AIå­¦ç”Ÿåˆ†ææµç¨‹
  use_icon_as_answer_icon: false

kind: app
version: 0.5.0

workflow:
  conversation_variables: []
  environment_variables: []

  features:
    file_upload:
      enabled: false
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    text_to_speech:
      enabled: false

  graph:
    edges:
    # å¼€å§‹ â†’ å…¨æ–‡åˆ†æ
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: start-to-analysis
      source: start-node
      sourceHandle: source
      target: llm-analysis
      targetHandle: target
      type: custom

    # å…¨æ–‡åˆ†æ â†’ ç»“æŸ
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: analysis-to-end
      source: llm-analysis
      sourceHandle: source
      target: end-node
      targetHandle: target
      type: custom

    nodes:
    # ========== å¼€å§‹èŠ‚ç‚¹ ==========
    - data:
        desc: è¾“å…¥æ–‡ç« è¿›è¡Œæ·±åº¦åˆ†æ
        title: å¼€å§‹
        type: start
        variables:
        - label: æ–‡ç« æ ‡é¢˜
          max_length: 500
          required: true
          type: text-input
          variable: article_title
        - label: æ–‡ç« URL
          max_length: 500
          required: false
          type: text-input
          variable: article_url
        - label: æ–‡ç« å®Œæ•´å†…å®¹
          max_length: 50000
          required: true
          type: paragraph
          variable: article_content
        - label: æ¥æºåç§°
          max_length: 100
          required: false
          type: text-input
          variable: source_name
        - label: æ¥æºéš¾åº¦
          max_length: 50
          required: false
          type: text-input
          variable: source_difficulty
      id: start-node
      position:
        x: 50
        y: 300
      positionAbsolute:
        x: 50
        y: 300
      type: start

    # ========== LLM å…¨æ–‡åˆ†æèŠ‚ç‚¹ ==========
    - data:
        context:
          enabled: false
        desc: æ·±åº¦åˆ†ææ–‡ç« å†…å®¹
        model:
          completion_params:
            temperature: 0.5
            top_p: 0.9
          mode: chat
          name: gemini-2.0-flash-exp
          provider: google
        prompt_template:
        - id: system
          role: system
          text: |
            ä½ æ˜¯ä¸“ä¸ºAI/MLå­¦ç”Ÿè®¾è®¡çš„æŠ€æœ¯æ–‡ç« åˆ†æä¸“å®¶ã€‚

            ## ä»»åŠ¡ç›®æ ‡
            å¯¹æ–‡ç« è¿›è¡Œå…¨é¢æ·±åº¦åˆ†æï¼Œç”Ÿæˆç»“æ„åŒ–æ‘˜è¦ï¼Œå¸®åŠ©å­¦ç”Ÿå¿«é€Ÿç†è§£æ ¸å¿ƒå†…å®¹ã€‚

            ## åˆ†æç»´åº¦

            ### 1. ä¸€å¥è¯æ€»ç»“ï¼ˆoneSentenceSummaryï¼‰
            - 20-30å­—
            - æ¦‚æ‹¬æ–‡ç« æœ€æ ¸å¿ƒçš„è§‚ç‚¹æˆ–æŠ€æœ¯
            - ä¾‹å¦‚ï¼š"ä»‹ç»Transformeræ³¨æ„åŠ›æœºåˆ¶çš„å¯è§†åŒ–ç†è§£æ–¹æ³•"

            ### 2. è¯¦ç»†æ‘˜è¦ï¼ˆsummaryï¼‰
            - 200-400å­—
            - åŒ…å«ï¼šèƒŒæ™¯ã€æ ¸å¿ƒæŠ€æœ¯ã€ä¸»è¦å‘ç°ã€åº”ç”¨ä»·å€¼
            - ç”¨å­¦ç”Ÿèƒ½ç†è§£çš„è¯­è¨€

            ### 3. é¢†åŸŸåˆ†ç±»ï¼ˆdomainï¼‰
            ä»ä»¥ä¸‹é€‰é¡¹ä¸­é€‰æ‹©æœ€åŒ¹é…çš„ï¼š
            - "æœºå™¨å­¦ä¹ åŸºç¡€"
            - "æ·±åº¦å­¦ä¹ "
            - "è‡ªç„¶è¯­è¨€å¤„ç†"
            - "è®¡ç®—æœºè§†è§‰"
            - "å¼ºåŒ–å­¦ä¹ "
            - "AIå·¥å…·ä¸æ¡†æ¶"

            ### 4. æ ‡ç­¾åˆ—è¡¨ï¼ˆtagsï¼‰
            - 5-8ä¸ªæ ‡ç­¾
            - åŒ…æ‹¬ï¼šæŠ€æœ¯ä¸»é¢˜ã€ç®—æ³•åç§°ã€å·¥å…·æ¡†æ¶ã€åº”ç”¨åœºæ™¯
            - ä¾‹å¦‚ï¼š["Transformer", "æ³¨æ„åŠ›æœºåˆ¶", "PyTorch", "NLP", "æ•™ç¨‹"]

            ### 5. æ ¸å¿ƒè¦ç‚¹ï¼ˆmainPointsï¼‰
            - 3-5ä¸ªå…³é”®ç‚¹
            - æ¯ä¸ªè¦ç‚¹åŒ…å«ï¼š
              - point: ç®€çŸ­æ ‡é¢˜ï¼ˆ10-15å­—ï¼‰
              - explanation: è¯¦ç»†è¯´æ˜ï¼ˆ30-50å­—ï¼‰

            ### 6. æ–‡ç« é‡‘å¥ï¼ˆkeyQuotesï¼‰
            - 2-3æ¡ç²¾åè¯­å¥
            - é€‰æ‹©æœ‰å¯å‘æ€§ã€å¯å¼•ç”¨çš„å¥å­

            ### 7. è´¨é‡è¯„åˆ†ï¼ˆscoreï¼‰
            åŸºç¡€åˆ†ï¼š90åˆ†

            **è¯„åˆ†ç»´åº¦**ï¼š
            - å­¦æœ¯æ·±åº¦ï¼ˆ35%ï¼‰ï¼šç†è®ºä¸¥è°¨æ€§ã€æŠ€æœ¯ä¸“ä¸šåº¦
            - ç›¸å…³æ€§ï¼ˆ30%ï¼‰ï¼šæ˜¯å¦ç¬¦åˆAIå­¦ç”Ÿéœ€æ±‚
            - å®è·µä»·å€¼ï¼ˆ20%ï¼‰ï¼šä»£ç ã€å®éªŒã€å¯æ“ä½œæ€§
            - åˆ›æ–°æ€§ï¼ˆ15%ï¼‰ï¼šè§‚ç‚¹æ–°é¢–åº¦ã€å¯å‘æ€§

            **è°ƒæ•´èŒƒå›´**ï¼š-10 ~ +5åˆ†

            **åŠ åˆ†é¡¹**ï¼š
            - æœ‰è¯¦ç»†ä»£ç ç¤ºä¾‹ï¼ˆ+2åˆ†ï¼‰
            - æ¥è‡ªé¡¶çº§å®éªŒå®¤/ç ”ç©¶å‘˜ï¼ˆ+2åˆ†ï¼‰
            - æ·±å…¥æµ…å‡ºçš„æ•™å­¦é£æ ¼ï¼ˆ+1åˆ†ï¼‰

            **å‡åˆ†é¡¹**ï¼š
            - çº¯ç†è®ºæ— å®è·µï¼ˆ-3åˆ†ï¼‰
            - å†…å®¹è¿‡æ—¶ï¼ˆ-2åˆ†ï¼‰
            - ç¼ºä¹æŠ€æœ¯æ·±åº¦ï¼ˆ-3åˆ†ï¼‰

            ## è¾“å‡ºæ ¼å¼ï¼ˆä¸¥æ ¼JSONï¼‰

            ```json
            {
              "oneSentenceSummary": "è¿™é‡Œå¡«å†™ä¸€å¥è¯æ€»ç»“",
              "summary": "è¿™é‡Œå¡«å†™è¯¦ç»†æ‘˜è¦",
              "domain": "æ·±åº¦å­¦ä¹ ",
              "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2", "æ ‡ç­¾3", "æ ‡ç­¾4", "æ ‡ç­¾5"],
              "mainPoints": [
                {
                  "point": "æ ¸å¿ƒè¦ç‚¹1",
                  "explanation": "è¯¦ç»†è§£é‡Š"
                },
                {
                  "point": "æ ¸å¿ƒè¦ç‚¹2",
                  "explanation": "è¯¦ç»†è§£é‡Š"
                }
              ],
              "keyQuotes": [
                "ç²¾åè¯­å¥1",
                "ç²¾åè¯­å¥2"
              ],
              "score": 88
            }
            ```

            **é‡è¦**ï¼š
            1. å¿…é¡»è¾“å‡ºåˆæ³•çš„JSONæ ¼å¼
            2. score å¿…é¡»æ˜¯æ•´æ•°ï¼ŒèŒƒå›´ 50-95
            3. æ‰€æœ‰å­—æ®µéƒ½å¿…é¡»å¡«å†™
            4. ä¸­æ–‡è¾“å‡º

        - id: user
          role: user
          text: |
            è¯·åˆ†æä»¥ä¸‹æ–‡ç« ï¼š

            **æ ‡é¢˜**ï¼š{{#start-node.article_title#}}

            **æ¥æº**ï¼š{{#start-node.source_name#}}ï¼ˆéš¾åº¦ï¼š{{#start-node.source_difficulty#}}ï¼‰

            **URL**ï¼š{{#start-node.article_url#}}

            **å®Œæ•´å†…å®¹**ï¼š
            {{#start-node.article_content#}}

        selected: false
        title: å…¨æ–‡æ·±åº¦åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      id: llm-analysis
      position:
        x: 450
        y: 300
      positionAbsolute:
        x: 450
        y: 300
      type: llm

    # ========== ç»“æŸèŠ‚ç‚¹ ==========
    - data:
        desc: è¾“å‡ºåˆ†æç»“æœ
        outputs:
        - value_selector:
          - llm-analysis
          - text
          variable: analysis_result
        selected: false
        title: åˆ†æå®Œæˆ
        type: end
      id: end-node
      position:
        x: 850
        y: 300
      positionAbsolute:
        x: 850
        y: 300
      type: end
